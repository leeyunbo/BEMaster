## 빈 생명주기 콜백 
### 스프링 컨테이너와 개발자는 어떻게 상호작용을 할 수 있을까? 
1. 스프링 빈은 객체를 생성하고, 의존관계 주입이 끝난 다음에야 초기화 작업을 수행할 수 있다.
2. 그렇다면 스프링 빈은 스프링 컨테이너에 의해 자동으로 생성되고 의존관계가 주입되는 개발자는 완료 시점을 어떻게 알 수 있을까?
3. 스프링은 의존관계 주입이 완료되면 **콜백 메서드**를 통해 알려주는 기능을 제공한다. 
4. 또한 스프링 컨테이너가 종료되기 직전에 소멸 콜백을 주어 안전하게 종료 작업을 할 수 있다.


### 스프링 빈의 이벤트 라이프사이클 
```
스프링 컨테이너 생성 -> 스프링 빈 생성 -> 의존관계 주입 -> 초기화 콜백 -> 사용 -> 소멸전 콜백 -> 스프링 종료 
```
* 초기화 콜백 : 빈이 생성되고, 빈의 의존관계 주입 완료 후 호출
* 소멸전 콜백 : 빈이 소멸되기 직전에 호출 


### 객체의 생성과 초기화를 분리하자.
1. 생성자에서는 메모리 할당하여 객체 생성하고 정말 필요한 파라미터만 받는 것이 좋다. 
2. 단일 책임 원칙을 생각하자! 
3. 초기화에서는 보통 디비 커넥션과 같은 무거운 동작을 수행한다.
4. 따라서 초기화 작업과 생성자 작업을 나눠야 유지보수 관점에서 훨씬 더 좋다. 
5. 또한 초기화 작업을 따로 나누게 된다면 `lazy init`을 할 수 있다.

### 참고) 싱글톤 빈과 소멸 콜백 
1. 싱글톤 빈들은 스프링 컨테이너가 종료될 때 종료되기에 스프링 컨테이너가 종료되기 직전에 소멸전 콜백이 일어난다.
2. 반면에 싱글톤이 아닌 생명주기가 짧은 빈들은 빈이 소멸되기 직전에 소멸전 콜백이 일어난다. 
